{"version":3,"file":"admin.js","sources":["admin.js"],"sourcesContent":["function getCsrfToken() {\r\n    return $('input[name=\"csrf_token\"]').val();\r\n}\r\n\r\n$(function () {\r\n    // Initialize toasts with auto-hide\r\n    $('.toast').each(function () {\r\n        var toast = new bootstrap.Toast(this);\r\n        toast.show();\r\n    });\r\n\r\n    $(\"#post_storefront\").on(\"submit\", function (e) {\r\n        e.preventDefault();\r\n        var formData = new FormData(this);\r\n        formData.append('post_storefront', '1');\r\n        formData.append('csrf_token', getCsrfToken());\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"./includes/post_admin.php\",\r\n            data: formData,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function () {\r\n                location.reload();\r\n            },\r\n        });\r\n    });\r\n\r\n    let uploadsStarted = 0;\r\n    let uploadsCompleted = 0;\r\n\r\n    $('#fileupload').fileupload({\r\n        acceptFileTypes: /(\\.|\\/)(zip)$/i,\r\n        autoUpload: false,\r\n        progressall: function (e, data) {\r\n            let progress = parseInt((data.loaded / data.total) * 100, 10);\r\n            $('#progress .progress-bar').css('width', progress + '%');\r\n        }\r\n    });\r\n\r\n    $('#fileupload').on('submit', function (e) {\r\n        e.preventDefault();\r\n        let files = $('#fileupload').fileupload('option', 'files');\r\n\r\n        if (!files || files.length === 0) {\r\n            alert(\"No file selected!\");\r\n            return;\r\n        }\r\n\r\n        uploadsStarted = files.length;\r\n        uploadsCompleted = 0;\r\n\r\n        files.forEach(file => {\r\n            let formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            $.ajax({\r\n                url: $('#fileupload').attr('action'),\r\n                type: 'POST',\r\n                data: formData,\r\n                cache: false,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function (response) {\r\n                    document.querySelector('#toast-1 .toast-body').innerHTML =\r\n                        response.includes('Module zip file extracted successfully.')\r\n                            ? 'Success! Module added Successfully.'\r\n                            : 'There was a problem adding the Module.';\r\n\r\n                    $(\".toast\").addClass('show');\r\n                },\r\n                complete: function () {\r\n                    uploadsCompleted++;\r\n                    if (uploadsStarted === uploadsCompleted) {\r\n                        delayReload();\r\n                    }\r\n                },\r\n                error: function () {\r\n                    uploadsCompleted++;\r\n                    if (uploadsStarted === uploadsCompleted) {\r\n                        delayReload();\r\n                    }\r\n                },\r\n                xhr: function () {\r\n                    let xhr = new window.XMLHttpRequest();\r\n                    xhr.upload.addEventListener('progress', function (e) {\r\n                        if (e.lengthComputable) {\r\n                            let percentComplete = (e.loaded / e.total) * 100;\r\n                            $('#progress .progress-bar').css('width', percentComplete + '%');\r\n                        }\r\n                    }, false);\r\n                    return xhr;\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    function delayReload() {\r\n        setTimeout(() => location.reload(), 3000);\r\n    }\r\n\r\n    $('#fileupload').on('fileuploadchange', function () {\r\n        $('#fileupload .empty-row').hide();\r\n    });\r\n\r\n    $('#fileupload').on('fileuploadfail', function (e, data) {\r\n        if (data.errorThrown === 'abort' && $('#fileupload .files tr').not('.empty-row').length === 1) {\r\n            $('#fileupload .empty-row').show();\r\n        }\r\n    });\r\n\r\n    var panelName;\r\n\r\n    function populateModal(suffix, data) {\r\n        if (data && typeof data === 'object') {\r\n            var modalContent = '';\r\n\r\n            modalContent += '<h4 class=\"card-title mb-3\">' + suffix.replace(/_/g, ' ').toUpperCase() + '</h4>';\r\n\r\n            $.each(data, function (key, value) {\r\n                console.log('Processing key:', key, 'with value:', value, 'type:', typeof value);\r\n\r\n                var title = key.replace(/_/g, ' ');\r\n\r\n                modalContent += '<div class=\"card\">';\r\n                modalContent += '<div class=\"card-body d-flex align-items-center\">';\r\n                modalContent += '<span class=\"me-auto\">' + title + '</span>';\r\n                modalContent += '<div class=\"form-check form-switch\">';\r\n\r\n                // More comprehensive boolean conversion\r\n                var booleanValue = false;\r\n                if (typeof value === 'boolean') {\r\n                    booleanValue = value;\r\n                } else if (typeof value === 'string') {\r\n                    booleanValue = (value.toLowerCase() === 'true' || value === '1');\r\n                } else if (typeof value === 'number') {\r\n                    booleanValue = (value === 1);\r\n                }\r\n\r\n                modalContent += '<input class=\"form-check-input\" type=\"checkbox\" id=\"' + key + '\"';\r\n                modalContent += booleanValue ? ' checked' : '';\r\n                modalContent += '>';\r\n                modalContent += '</div>';\r\n                modalContent += '</div>';\r\n                modalContent += '<div class=\"card-arrow\">';\r\n                modalContent += '<div class=\"card-arrow-top-left\"></div>';\r\n                modalContent += '<div class=\"card-arrow-top-right\"></div>';\r\n                modalContent += '<div class=\"card-arrow-bottom-left\"></div>';\r\n                modalContent += '<div class=\"card-arrow-bottom-right\"></div>';\r\n                modalContent += '</div>';\r\n                modalContent += '</div>';\r\n            });\r\n\r\n            modalContent += '<div class=\"mb-3\"></div>';\r\n            modalContent += '<div class=\"d-flex justify-content-end\"></div>';\r\n\r\n            $('#panelSettingsModal .modal-body').append(modalContent);\r\n        } else {\r\n            console.error('Invalid data format:', data);\r\n        }\r\n    }\r\n\r\n    function populateSidebarSettingsModal(panelInfo) {\r\n        $('#sidebarSettingsModal .modal-body').empty();\r\n        $('#sidebarSettingsModal').modal('show');\r\n\r\n        if (panelInfo.pages && panelInfo.pages.length > 0) {\r\n            $.each(panelInfo.pages, function (index, page) {\r\n                var card = '<div class=\"card\">';\r\n                card += '<div class=\"card-body d-flex align-items-center\">';\r\n                card += '<span class=\"me-auto\">' + page.title + '</span>';\r\n                card += '<div class=\"form-check form-switch\">';\r\n                card += '<input class=\"form-check-input\" type=\"checkbox\" id=\"page-' + index + '\"';\r\n                card += page.enabled ? ' checked' : '';\r\n                card += '>';\r\n                card += '</div>';\r\n                card += '</div>';\r\n                card += '<div class=\"card-arrow\">';\r\n                card += '<div class=\"card-arrow-top-left\"></div>';\r\n                card += '<div class=\"card-arrow-top-right\"></div>';\r\n                card += '<div class=\"card-arrow-bottom-left\"></div>';\r\n                card += '<div class=\"card-arrow-bottom-right\"></div>';\r\n                card += '</div>';\r\n                card += '</div>';\r\n\r\n                $('#sidebarSettingsModal .modal-body').append(card);\r\n            });\r\n        } else {\r\n            $('#sidebarSettingsModal .modal-body').append('<h4 class=\"card-title mb-3\">No Menu Pages Found</h4>');\r\n        }\r\n    }\r\n\r\n    $(document).on('click', '.btn-panel-edit', function (event) {\r\n        event.preventDefault();\r\n\r\n        panelName = $(this).data('panel');\r\n        $('#panelSettingsModal .modal-body').empty();\r\n        $('#panelSettingsModal').modal('show');\r\n\r\n        console.log(\"Retrieved panelName:\", panelName);\r\n\r\n        $.ajax({\r\n            url: 'includes/get_admin.php',\r\n            data: {\r\n                panelName: panelName\r\n            },\r\n            success: function (files) {\r\n                console.log(\"Received files:\", files);\r\n\r\n                if (files && typeof files === 'object' && Object.keys(files).length > 0) {\r\n                    var settingsWithFiles = {};\r\n\r\n                    $.each(files, function (index, file) {\r\n                        if (file.trim().endsWith('.json')) {\r\n                            var fileName = file.split('/').pop();\r\n\r\n                            if (/^cockpit_[^_]+_admin_(.+)\\.json/.test(fileName)) {\r\n                                $.getJSON('panel/' + panelName + '/includes/db/' + file + '?_t=' + new Date().getTime())\r\n                                    .done(function (data) {\r\n                                        var suffix = fileName.replace(/^cockpit_[^_]+_admin_(.+)\\.json/, '$1');\r\n                                        settingsWithFiles[suffix] = {\r\n                                            fileName: fileName,\r\n                                            data: data\r\n                                        };\r\n                                        populateModal(suffix, data);\r\n                                    })\r\n                                    .fail(function (jqxhr, textStatus, error) {\r\n                                        console.error(\"Error fetching JSON:\", error);\r\n                                    });\r\n                            }\r\n                        }\r\n                    });\r\n                    $('#panelSettingsModal .btn-primary').data('settingsWithFiles', settingsWithFiles);\r\n                } else {\r\n                    console.log(\"No JSON files found.\");\r\n                    $('#panelSettingsModal .modal-body').append('<h4 class=\"card-title mb-3\">No Settings Found</h4>');\r\n                }\r\n            },\r\n            error: function (jqxhr, textStatus, error) {\r\n                console.error(\"Error fetching files:\", error);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '#panelSettingsModal .btn-primary', function () {\r\n        var updatedData = {};\r\n        var settingsWithFiles = $(this).data('settingsWithFiles');\r\n\r\n        $('#panelSettingsModal .form-check-input').each(function () {\r\n            var key = $(this).attr('id');\r\n            var value = $(this).is(':checked');\r\n            updatedData[key] = value;\r\n        });\r\n\r\n        $.ajax({\r\n            url: 'includes/update_admin.php',\r\n            method: 'POST',\r\n            data: {\r\n                panelName: panelName,\r\n                updatedData: updatedData,\r\n                settingsWithFiles: settingsWithFiles\r\n            },\r\n            success: function (response) {\r\n                $('#panelSettingsModal').modal('hide');\r\n                location.reload();\r\n            },\r\n            error: function (jqxhr, textStatus, error) {\r\n                console.error(\"Error updating data:\", error);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '.btn-sidebar-settings-edit', function () {\r\n        panelName = $(this).data('sidebar');\r\n        $.getJSON('panel/' + panelName + '/panel_info.json' + '?_t=' + new Date().getTime())\r\n            .done(function (panelInfo) {\r\n                populateSidebarSettingsModal(panelInfo);\r\n            })\r\n            .fail(function (jqxhr, textStatus, error) {\r\n                console.error(\"Error fetching panel_info.json:\", error);\r\n            });\r\n    });\r\n\r\n    $(document).on('click', '#sidebarSettingsModal .btn-primary', function () {\r\n        var updatedPages = [];\r\n\r\n        $('#sidebarSettingsModal .form-check-input').each(function (index, checkbox) {\r\n            var page = {\r\n                title: $(this).siblings('.form-check-label').text(),\r\n                enabled: $(this).is(':checked')\r\n            };\r\n            updatedPages.push(page);\r\n        });\r\n\r\n        $.getJSON('panel/' + panelName + '/panel_info.json' + '?_t=' + new Date().getTime())\r\n            .done(function (panelInfo) {\r\n                panelInfo.pages.forEach(function (existingPage, index) {\r\n                    existingPage.enabled = updatedPages[index].enabled;\r\n                });\r\n\r\n                var panelInfoString = JSON.stringify(panelInfo);\r\n\r\n                $.ajax({\r\n                    url: 'includes/update_panel_info.php',\r\n                    method: 'POST',\r\n                    data: {\r\n                        panelName: panelName,\r\n                        panelInfo: panelInfoString\r\n                    },\r\n                    success: function (response) {\r\n                        console.log('Panel info updated successfully:', response);\r\n                        $('#sidebarSettingsModal').modal('hide');\r\n                        location.reload();\r\n                    },\r\n                    error: function (jqxhr, textStatus, error) {\r\n                        console.error(\"Error updating panel_info.json:\", error);\r\n                    }\r\n                });\r\n            })\r\n            .fail(function (jqxhr, textStatus, error) {\r\n                console.error(\"Error fetching panel_info.json:\", error);\r\n            });\r\n    });\r\n});\r\n\r\n$('#datatableVisits').DataTable({\r\n    dom: \"<'row mb-3'<'col-sm-4'l><'col-sm-8 text-end'<'d-flex justify-content-end'fB>>>t<'d-flex align-items-center'<'me-auto'i><'mb-0'p>>\",\r\n    lengthMenu: [10, 20, 30, 40, 50],\r\n    responsive: true,\r\n    buttons: [\r\n        {\r\n            extend: 'csv',\r\n            className: 'btn-sm btn-outline-theme',\r\n        }\r\n    ]\r\n});\r\n\r\nvar dates = Object.keys(data_users).slice(-14);\r\nvar users = dates.map(date => data_users[date].total_users);\r\nvar topPagesSeries = [];\r\n\r\nfor (const date of dates) {\r\n    const topPages = data_users[date].top_pages.slice(0, 3);\r\n    for (const page of topPages) {\r\n        const existingIndex = topPagesSeries.findIndex(series => series.name === page.page);\r\n        if (existingIndex !== -1) {\r\n            topPagesSeries[existingIndex].data.push(page.visits);\r\n        } else {\r\n            topPagesSeries.push({\r\n                name: page.page,\r\n                type: 'bar',\r\n                data: [page.visits]\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nvar apexMixedChartOptions = {\r\n    chart: {\r\n        height: 350,\r\n        type: 'line',\r\n        stacked: true,\r\n        foreColor: '#ffffff'\r\n    },\r\n    dataLabels: {\r\n        enabled: false\r\n    },\r\n    series: [{\r\n        name: 'Visitors',\r\n        type: 'line',\r\n        color: '#ffffff',\r\n        data: users\r\n    },\r\n    ...topPagesSeries\r\n    ],\r\n    colors: ['#ffffff'],\r\n    theme: {\r\n        monochrome: {\r\n            enabled: true,\r\n            color: app.color.theme,\r\n            shadeTo: 'dark',\r\n            shadeIntensity: 0.65\r\n        }\r\n    },\r\n    xaxis: {\r\n        categories: dates,\r\n        axisBorder: {\r\n            show: true,\r\n            color: '#ffffff',\r\n            height: 1,\r\n            width: '100%',\r\n            offsetX: 0,\r\n            offsetY: -1\r\n        },\r\n        axisTicks: {\r\n            show: true,\r\n            color: '#ffffff',\r\n            height: 6,\r\n            offsetX: 0,\r\n            offsetY: 0\r\n        },\r\n        labels: {\r\n            style: {\r\n                colors: '#ffffff'\r\n            }\r\n        }\r\n    },\r\n    yaxis: {\r\n        labels: {\r\n            formatter: function (val) {\r\n                return val;\r\n            },\r\n            style: {\r\n                colors: '#ffffff'\r\n            }\r\n        },\r\n        title: {\r\n            text: 'Visitor Count',\r\n            style: {\r\n                color: '#ffffff'\r\n            }\r\n        }\r\n    },\r\n    tooltip: {\r\n        fixed: {\r\n            enabled: true,\r\n            position: 'topLeft',\r\n            offsetY: 30,\r\n            offsetX: 60\r\n        },\r\n        style: {\r\n            color: '#ffffff'\r\n        }\r\n    },\r\n    legend: {\r\n        horizontalAlign: 'left',\r\n        offsetX: 40,\r\n        labels: {\r\n            colors: '#ffffff'\r\n        }\r\n    }\r\n};\r\n\r\nvar apexMixedChart = new ApexCharts(document.querySelector('#apexMixedChart'), apexMixedChartOptions);\r\napexMixedChart.render();\r\n\r\nfunction deleteStorefront(id) {\r\n    if (confirm(\"Are you sure you want to delete this storefront?\")) {\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"./includes/post_admin.php\",\r\n            data: {\r\n                delete_storefront: 1,\r\n                id: id,\r\n                csrf_token: getCsrfToken()\r\n            },\r\n            success: function () {\r\n                location.reload();\r\n            },\r\n        });\r\n    }\r\n}\r\n\r\nfunction editStorefront(store_name, api_url) {\r\n    $(\"#store_name\").val(store_name);\r\n    $(\"#api_url\").val(api_url);\r\n\r\n    // Update button text to indicate editing mode\r\n    $('#add_storefront button[name=\"add_storefront\"]').text('<i class=\"fas fa-plus me-1\"></i>Update Storefront');\r\n}"],"names":["getCsrfToken","$","val","each","bootstrap","Toast","this","show","on","e","preventDefault","formData","FormData","append","ajax","type","url","data","processData","contentType","success","location","reload","let","uploadsStarted","uploadsCompleted","delayReload","setTimeout","panelName","fileupload","acceptFileTypes","autoUpload","progressall","progress","parseInt","loaded","total","css","files","length","forEach","file","attr","cache","response","document","querySelector","innerHTML","includes","addClass","complete","error","xhr","window","XMLHttpRequest","upload","addEventListener","lengthComputable","percentComplete","alert","hide","errorThrown","not","event","empty","modal","console","log","settingsWithFiles","Object","keys","index","fileName","trim","endsWith","split","pop","test","getJSON","Date","getTime","done","modalContent","suffix","replace","toUpperCase","key","value","title","booleanValue","toLowerCase","fail","jqxhr","textStatus","updatedData","is","method","panelInfo","pages","page","card","enabled","updatedPages","checkbox","siblings","text","push","existingPage","panelInfoString","JSON","stringify","DataTable","dom","lengthMenu","responsive","buttons","extend","className","dates","data_users","slice","users","map","date","total_users","topPagesSeries","topPages","top_pages","existingIndex","findIndex","series","name","visits","apexMixedChartOptions","chart","height","stacked","foreColor","dataLabels","color","colors","theme","monochrome","app","shadeTo","shadeIntensity","xaxis","categories","axisBorder","width","offsetX","offsetY","axisTicks","labels","style","yaxis","formatter","tooltip","fixed","position","legend","horizontalAlign","apexMixedChart","ApexCharts","deleteStorefront","id","confirm","delete_storefront","csrf_token","editStorefront","store_name","api_url","render"],"mappings":"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"}